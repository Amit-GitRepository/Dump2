Object.defineProperty(exports,"__esModule",{value:true});exports.getCurrentPosition=exports.sortByDistance=undefined;var cov_14gsntr8zl=function(){var path='/Users/amitkumar/iTrueService/DevCode/iservice-app/app/utils/location.util.js',hash='77bc6a690792452626aa567c958fd74cc805e520',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/amitkumar/iTrueService/DevCode/iservice-app/app/utils/location.util.js',statementMap:{'0':{start:{line:6,column:30},end:{line:16,column:1}},'1':{start:{line:7,column:23},end:{line:7,column:74}},'2':{start:{line:8,column:27},end:{line:14,column:3}},'3':{start:{line:9,column:21},end:{line:9,column:72}},'4':{start:{line:10,column:4},end:{line:12,column:5}},'5':{start:{line:11,column:6},end:{line:11,column:66}},'6':{start:{line:13,column:4},end:{line:13,column:16}},'7':{start:{line:15,column:2},end:{line:15,column:53}},'8':{start:{line:18,column:34},end:{line:28,column:2}},'9':{start:{line:18,column:40},end:{line:28,column:2}},'10':{start:{line:19,column:2},end:{line:27,column:5}},'11':{start:{line:20,column:4},end:{line:23,column:7}},'12':{start:{line:25,column:4},end:{line:25,column:54}},'13':{start:{line:26,column:4},end:{line:26,column:16}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:6,column:30},end:{line:6,column:31}},loc:{start:{line:6,column:75},end:{line:16,column:1}},line:6},'1':{name:'(anonymous_1)',decl:{start:{line:8,column:27},end:{line:8,column:28}},loc:{start:{line:8,column:43},end:{line:14,column:3}},line:8},'2':{name:'(anonymous_2)',decl:{start:{line:18,column:34},end:{line:18,column:35}},loc:{start:{line:18,column:40},end:{line:28,column:2}},line:18},'3':{name:'(anonymous_3)',decl:{start:{line:18,column:52},end:{line:18,column:53}},loc:{start:{line:18,column:73},end:{line:28,column:1}},line:18},'4':{name:'(anonymous_4)',decl:{start:{line:19,column:43},end:{line:19,column:44}},loc:{start:{line:19,column:58},end:{line:24,column:3}},line:19},'5':{name:'(anonymous_5)',decl:{start:{line:24,column:5},end:{line:24,column:6}},loc:{start:{line:24,column:14},end:{line:27,column:3}},line:24}},branchMap:{'0':{loc:{start:{line:6,column:60},end:{line:6,column:70}},type:'default-arg',locations:[{start:{line:6,column:68},end:{line:6,column:70}}],line:6},'1':{loc:{start:{line:10,column:4},end:{line:12,column:5}},type:'if',locations:[{start:{line:10,column:4},end:{line:12,column:5}},{start:{line:10,column:4},end:{line:12,column:5}}],line:10},'2':{loc:{start:{line:10,column:8},end:{line:10,column:41}},type:'binary-expr',locations:[{start:{line:10,column:8},end:{line:10,column:20}},{start:{line:10,column:24},end:{line:10,column:41}}],line:10}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0},b:{'0':[0],'1':[0,0],'2':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _compact=require('lodash/compact');var _compact2=_interopRequireDefault(_compact);
var _geolib=require('geolib');var _geolib2=_interopRequireDefault(_geolib);
var _reactNativeUtil=require('./reactNative.util.js');
var _helper=require('../language/i18n/helper');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}cov_14gsntr8zl.s[0]++;

var sortByDistance=exports.sortByDistance=function sortByDistance(currentLatLong,coordinates){var limit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:(cov_14gsntr8zl.b[0][0]++,-1);cov_14gsntr8zl.f[0]++;
var sortedMatrix=(cov_14gsntr8zl.s[1]++,_geolib2.default.orderByDistance(currentLatLong,coordinates));cov_14gsntr8zl.s[2]++;
var parseCoordinates=function parseCoordinates(coordinate){cov_14gsntr8zl.f[1]++;
var distance=(cov_14gsntr8zl.s[3]++,parseFloat((coordinate.distance/1000).toFixed(2)));cov_14gsntr8zl.s[4]++;
if((cov_14gsntr8zl.b[2][0]++,limit===-1)||(cov_14gsntr8zl.b[2][1]++,distance<=limit)){cov_14gsntr8zl.b[1][0]++;cov_14gsntr8zl.s[5]++;
return _extends({},coordinates[coordinate.key],{distance:distance});
}else{cov_14gsntr8zl.b[1][1]++;}cov_14gsntr8zl.s[6]++;
return null;
};cov_14gsntr8zl.s[7]++;
return(0,_compact2.default)(sortedMatrix.map(parseCoordinates));
};cov_14gsntr8zl.s[8]++;

var getCurrentPosition=exports.getCurrentPosition=function getCurrentPosition(){cov_14gsntr8zl.f[2]++;cov_14gsntr8zl.s[9]++;return new Promise(function(resolve,reject){cov_14gsntr8zl.f[3]++;cov_14gsntr8zl.s[10]++;
navigator.geolocation.getCurrentPosition(function(pos){cov_14gsntr8zl.f[4]++;cov_14gsntr8zl.s[11]++;
resolve({
latitude:pos.coords.latitude,
longitude:pos.coords.longitude});

},function(err){cov_14gsntr8zl.f[5]++;cov_14gsntr8zl.s[12]++;
_reactNativeUtil.Toast.show((0,_helper.translate)('LOCATION_ACCESS_DISABLED'));cov_14gsntr8zl.s[13]++;
reject(err);
});
});};