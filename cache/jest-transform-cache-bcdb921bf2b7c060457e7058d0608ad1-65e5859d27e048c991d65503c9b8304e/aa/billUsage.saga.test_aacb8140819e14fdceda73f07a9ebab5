var _api=require('../api/api.saga');var _api2=_interopRequireDefault(_api);
var _billUsage=require('../billUsage.saga');var _billUsage2=_interopRequireDefault(_billUsage);
var _reduxSagaTesting=require('redux-saga-testing');var _reduxSagaTesting2=_interopRequireDefault(_reduxSagaTesting);
var _apiHelper=require('../api/apiHelper');
var _effects=require('redux-saga/effects');
var _index=require('../../actions/index.actions');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}



describe('billUsageSaga: Testing the root Saga',function(){
var it=(0,_reduxSagaTesting2.default)((0,_billUsage2.default)());
it('Should take the every get Bill usage product action and call fetchProductList saga',function(result){
expect(result).toEqual((0,_effects.takeEvery)(_index.GET_BILL_USAGE_PRODUCT_LIST,_billUsage.fetchProductList));
});
it('Should take the every GET_BILL_USAGE_PRODUCT action and call fetchProduct saga',function(result){
expect(result).toEqual((0,_effects.takeEvery)(_index.GET_BILL_USAGE_PRODUCT,_billUsage.fetchProduct));
});
it('Should take the every GET_BILL_USAGE_PRODUCT_BILL_DETAIL actions and call fetch curret usage saga',function(result){
expect(result).toEqual((0,_effects.takeEvery)(_index.GET_BILL_USAGE_PRODUCT_BILL_DETAIL,_billUsage.fetchProductBillDetail));
});
it('Should take the every TOGGLE_BILL_USAGE_PRODUCT_COLLAPSE_STATUS actions and call fetch curret usage saga',function(result){
expect(result).toEqual((0,_effects.takeEvery)(_index.TOGGLE_BILL_USAGE_PRODUCT_COLLAPSE_STATUS,_billUsage.toggleProductCollapseStatus));
});
it('Should take the every GET_BILL_USAGE_PRODUCT_DETAIL actions and call fetch current usage saga',function(result){
expect(result).toEqual((0,_effects.takeEvery)(_index.GET_BILL_USAGE_PRODUCT_DETAIL,_billUsage.fetchProductDetail));
});
it('and then nothing',function(result){
expect(result).toBeUndefined();
});
});

describe('billUsageSaga: fetchProductList saga',function(){
var it=(0,_reduxSagaTesting2.default)((0,_billUsage.fetchProductList)());
it('Should select msisdn',function(result){
expect(result).toEqual((0,_effects.select)(_billUsage.msisdnSelector));
return 123456;
});
it('should select idCardReference',function(result){
expect(result).toEqual((0,_effects.select)(_billUsage.idCardReferenceSelector));
return 5678;
});
it('should select idCard',function(result){
expect(result).toEqual((0,_effects.select)(_billUsage.idCardSelector));
return 5678;
});
it('Should call api billUsageProductList',function(result){
expect(result).toEqual((0,_effects.call)(_api2.default,(0,_apiHelper.billUsageProductList)({idCard:5678})));
return{
body:{test:1}};

});
it('Should dispatch action to setBillUsageProductList',function(result){
expect(result).toEqual((0,_effects.put)((0,_index.setBillUsageProductList)({test:1})));
});
it('and then nothing',function(result){
expect(result).toBeUndefined();
});
});

describe('billUsageSaga: fetchProductDetail saga',function(){
var it=(0,_reduxSagaTesting2.default)((0,_billUsage.fetchProductDetail)({payload:{subscriberId:111111,productType:'truemoveH',productTypePayload:'TrueMoveH',productId:123,subscriptionType:'POSTPAID'}}));
it('Should call api billUsageProductDetail',function(result){
expect(result).toEqual((0,_effects.call)(_api2.default,(0,_apiHelper.billUsageProductDetail)(123,'TrueMoveH',111111,'POSTPAID')));
return{
body:{test:1}};

});
it('Should dispatch action to setBillUsageProductDetail',function(result){
expect(result).toEqual((0,_effects.put)((0,_index.setBillUsageProductDetail)(
{productType:'truemoveH',subscriberId:111111,data:{test:1}})));
});
it('and then nothing',function(result){
expect(result).toBeUndefined();
});
});